<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Host Dashboard - Quiz Game</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/kahoot-style.css') }}">
    <link rel="icon"
          href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>✍️</text></svg>">
</head>
<body>
<div class="main-container">
    <h1 class="fade-in">✍️ Host Dashboard</h1>

    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class="flash-messages fade-in">
        {% for message in messages %}
        <div class="flash-message">{{ message }}</div>
        {% endfor %}
    </div>
    {% endif %}
    {% endwith %}

    <div class="host-dashboard slide-up" style="grid-template-columns: 1fr; max-width: 600px; margin: 2rem auto;">
        <div class="dashboard-card">
            <div class="dashboard-icon">🎮</div>
            <h3>Quiz Host Center</h3>
            <p>Erstelle ein Multiplayer-Quiz für deine Gruppe.</p>
            <div style="color: var(--accent-purple); font-size: 0.9rem; margin-top: 1rem;">Starte ein Quiz und teile die PIN mit deinen Spielern!</div>
        </div>
    </div>

    <div class="card slide-up">
        <h2>🚀 Neues Spiel erstellen</h2>
        <form action="{{ url_for('host.create_game') }}" method="post" class="loading-form">
            <div class="form-group">
                <label for="host_name">👤 Dein Name (Spielleiter):</label>
                <input type="text" id="host_name" name="host_name" required placeholder="Dein Name als Spielleiter">
            </div>

            <div class="form-group">
                <label for="language">📚 Fragen-Sprache:</label>
                <select id="language" name="language">
                    <option value="de" selected>🇩🇪 Deutsch</option>
                    <option value="en">🇺🇸 English</option>
                </select>
            </div>

            <div class="form-group">
                <label for="difficulty">⭐ Schwierigkeitsgrad:</label>
                <select id="difficulty" name="difficulty">
                    <option value="easy">🟢 Einfach</option>
                    <option value="medium">🟡 Mittel</option>
                    <option value="hard">🟠 Schwer</option>
                    <option value="heavy">🔴 Sehr Schwer</option>
                    <option value="mixed">🌈 Gemischt</option>
                </select>
            </div>

            <div class="form-group">
                <label for="max_questions">📊 Anzahl Fragen (max. 50):</label>
                <input type="number" id="max_questions" name="max_questions" min="1" max="50" value="10" required>
            </div>

            <div style="text-align: center; margin-top: 2rem;">
                <button type="submit" class="btn btn-success submit-btn">
                    🎮 Spiel erstellen
                </button>
            </div>
        </form>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".loading-form").forEach(form => {
            form.addEventListener("submit", function () {
                const submitBtn = this.querySelector(".submit-btn");
                if (submitBtn) {
                    submitBtn.innerHTML = "🔄 Erstelle Spiel...";
                    submitBtn.disabled = true;
                }
            });
        });
    });
</script>
</body>
</html>